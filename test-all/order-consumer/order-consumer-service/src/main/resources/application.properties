# 应用名称
spring.application.name=order-consumer-service
# 端口号
server.port=8081
# nacos
spring.cloud.nacos.discovery.server-addr=127.0.0.1:8848
# 标识
spring.cloud.nacos.discovery.metadata.mark=true

hystrix.command.default.coreSize = 50
hystrix.command.default.execution.timeout.enabled = true
hystrix.command.default.execution.isolation.thread.timeoutInMilliseconds = 10000
hystrix.command.default.execution.isolation.thread.ribbon.ReadTimeout = 60000
hystrix.command.default.execution.isolation.thread.ribbon.ConnectTimeout = 60000
ribbon.ReadTimeout = 60000
ribbon.ConnectTimeout = 60000
ribbon.MaxAutoRetries = 0
ribbon.MaxAutoRetriesNextServer = 1
feign.hystrix.enabled = true
feign.httpclient.enabled = false
feign.okhttp.enabled = true

#hystrix: 顶层配置，表示这是Hystrix的配置。
#command: 表示要配置的是Hystrix命令（即要应用断路器的方法）。
#RemoteServiceClient#callRemoteService(): 指定Feign客户端接口及其方法，其格式为接口名#方法名()。
#execution: 表示与命令执行相关的配置。
#isolation: 表示与命令隔离相关的配置。
#thread: 表示使用线程隔离策略。
#timeoutInMilliseconds: 设置超时时间，单位为毫秒。
#在这个示例中，我们为RemoteServiceClient接口中的callRemoteService()方法设置了一个超时时间为3000毫秒（3秒）。当远程服务调用超过3秒时，Hystrix将触发超时并执行回退逻辑
hystrix.command.ProductClient#getV2().execution.isolation.thread.timeoutInMilliseconds = 30000

#配置请求 GZIP 压缩
feign.compression.request.enabled = true
#配置响应 GZIP 压缩
feign.compression.response.enabled = true
#配置压缩支持的 MIME TYPE
feign.compression.request.mime-types = text/xml,application/xml,application/json
#配置压缩数据大小的最小阀值，默认 2048
feign.compression.request.min-request-size = 512

spring.main.allow-bean-definition-overriding = true
management.endpoints.web.exposure.include = *
management.endpoint.health.show-details = always
management.security.enabled = false

